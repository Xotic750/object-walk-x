{"version":3,"sources":["../src/object-walk-x.js"],"names":[],"mappings":"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","file":"object-walk-x.esm.js","sourcesContent":["import defineProperties from 'object-define-properties-x';\nimport isFunction from 'is-function-x';\nimport isPrimitive from 'is-primitive';\nimport isArrayLike from 'is-array-like-x';\nimport includes from 'array-includes-x';\nimport some from 'array-some-x';\nimport objectKeys from 'object-keys-x';\nimport slice from 'array-slice-x';\n\nconst aPop = [].pop;\nconst SKIP = 'skip';\nconst BREAK = 'break';\nconst STOP = 'stop';\n\n// eslint-disable jsdoc/check-param-names\n// noinspection JSCommentMatchesSignature\n/**\n * This method walks a given object and invokes a function on each\n * iteration.\n *\n * @private\n * @param {*} object - The `object` to walk.\n * @param {Function} props - The function that returns an array of the\n *  properties of `value` to be walked, invoked per iteration.\n * @param {Function} supplier - The function invoked per `depth`.\n * @param {*} thisArg - The `this` binding of `supplier`.\n * @param {!object} stack - The `stack` for tracking circularity.\n */\n// eslint-enable jsdoc/check-param-names\nconst internalWalk = function internalWalk() {\n  /* eslint-disable-next-line prefer-rest-params */\n  const [object, props, supplier, thisArg, stack] = slice(arguments);\n\n  if (isPrimitive(object)) {\n    return null;\n  }\n\n  const {length} = stack;\n  let keys = props(object, length);\n\n  if (isArrayLike(keys) === false) {\n    keys = [];\n  }\n\n  let control = null;\n  some(keys, function predicate(prop) {\n    const value = object[prop];\n    control = supplier.call(thisArg, value, prop, object, length);\n\n    if (control === BREAK || control === STOP) {\n      return true;\n    }\n\n    if (control === SKIP) {\n      return false;\n    }\n\n    if (includes(stack, value)) {\n      throw new RangeError('Circular object');\n    }\n\n    stack[stack.length] = value;\n    control = internalWalk(value, props, supplier, thisArg, stack);\n    aPop.call(stack);\n\n    return control === STOP;\n  });\n\n  return control;\n};\n\n// eslint-disable jsdoc/check-param-names\n// noinspection JSCommentMatchesSignature\n/**\n * This method walks a given object and invokes a function on each iteration.\n *\n * @param {*} object - The `object` to walk.\n * @param {Function} props - The function that returns an array of the\n *  properties of `value` to be walked, invoked per iteration.\n * @param {Function} supplier - The function invoked per iteration.\n * @param {*} [thisArg] - The `this` binding of `supplier`.\n */\n// eslint-enable jsdoc/check-param-names\nconst objectWalk = function objectWalk() {\n  /* eslint-disable-next-line prefer-rest-params */\n  const [object, props, supplier, thisArg] = slice(arguments);\n\n  if (isPrimitive(object) || isFunction(supplier) === false) {\n    return;\n  }\n\n  internalWalk(object, isFunction(props) ? props : objectKeys, supplier, thisArg, [object]);\n};\n\n// noinspection JSValidateTypes\ndefineProperties(objectWalk, {\n  /**\n   * @static\n   * @type string\n   * @default break\n   */\n  BREAK: {\n    value: BREAK,\n  },\n  /**\n   * @static\n   * @type string\n   * @default skip\n   */\n  SKIP: {\n    value: SKIP,\n  },\n  /**\n   * @static\n   * @type string\n   * @default stop\n   */\n  STOP: {\n    value: STOP,\n  },\n});\n\nexport default objectWalk;\n"]}